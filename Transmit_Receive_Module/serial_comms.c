#include<reg51.h>

int i;
int j;

//unsigned char xdata receive_buf[28][28];
unsigned char rec;

void transmit(unsigned char dat)
{
	SBUF = dat;
	while(TI == 0);
	TI = 0;	
}

unsigned char receive(void)
{
	while(RI == 0);
	rec = SBUF;
	RI = 0;
	return rec;
}

unsigned char xdata image_data[28][28] = {
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 14, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 17, 11, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 16, 1, 1, 1},
																			{1, 1, 1, 1, 1, 3, 17, 17, 17, 17, 17, 17, 17, 17, 1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 1, 1, 1, 1, 17, 17, 17, 17, 11, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 17, 11, 1, 2, 17, 17, 17, 17, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 17, 1, 1, 1, 1, 17, 17, 17, 16, 1, 17, 17, 17, 17, 9, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1, 17, 17, 17, 17, 1, 17, 17, 17, 17, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1, 1, 17, 17, 17, 17, 17, 17, 17, 2, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 17, 17, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 17, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 17, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
																			{1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1}
																	};
																	
void main(void)
{
	SCON=0x50;
	TMOD=0x20;
	TH1=-3;
	TR1=1;
	
	for (i = 0; i < 28; i++)
		for (j = 0; j < 28; j++)
			transmit(image_data[i][j]);
	
	while(1);
}